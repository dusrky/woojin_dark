<!DOCTYPE html>

<html lang="ko">
<head>
<meta charset="utf-8"/>
<title>ë¬¸ì œë³„ ì‹œê°„ ì¸¡ì • í€´ì¦ˆ (ë¼ì´íŠ¸ëª¨ë“œ)</title>
<style>
    body {
      font-family: sans-serif;
      background-color: #121212;
      color: #ffffff;
      padding: 20px;
    }
    .container {
      max-width: 700px;
      margin: auto;
      background: #1e1e1e;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 0 10px rgba(255,255,255,0.1);
    }
    .question {
      margin-bottom: 30px;
    }
    .timer {
      font-size: 20px;
      font-weight: bold;
      margin-bottom: 20px;
      color: #ffffff;
    }
    table {
      border-collapse: collapse;
      margin: 10px 0;
    }
    td {
      border: 1px solid #444;
      padding: 8px 12px;
      text-align: center;
      width: 50px;
      color: #ffffff;
    }
    img {
      max-width: 100%;
      height: auto;
      margin-top: 10px;
    }
    label {
      color: #ffffff;
    }
</style>
</head>
<body>
<div class="container">
<h2 style="color: #000000;">â± ë¬¸ì œë³„ ì‹œê°„ ì¸¡ì • í€´ì¦ˆ (ë¼ì´íŠ¸ëª¨ë“œ)</h2>
<div class="timer" id="timer">ì´ ê²½ê³¼ ì‹œê°„: 0.00ì´ˆ</div>
<div class="question" data-answer="3" data-id="q1">
<p>â‘  ìˆ«ì ì°¾ê¸°</p>
<p>ë¬¸ì œ: ì•„ë˜ í‘œì—ì„œ ìˆ«ì "2"ì´ ëª‡ ë²ˆ ë‚˜ì˜¤ëŠ”ì§€ ì„¸ì–´ì„œ ì…ë ¥í•˜ì„¸ìš”.</p>
<table>
<tr><td>3</td><td>7</td><td>2</td><td>9</td><td>5</td></tr><tr><td>8</td><td>4</td><td>7</td><td>1</td><td>6</td></tr><tr><td>7</td><td>2</td><td>5</td><td>7</td><td>3</td></tr><tr><td>2</td><td>7</td><td>9</td><td>4</td><td>8</td></tr><tr><td>1</td><td>3</td><td>7</td><td>6</td><td>5</td></tr>
</table>
<input name="q1" onblur="endQuestion('q1')" onfocus="startQuestion('q1')" type="number"/>
</div>
<div class="question" data-answer="56" data-id="q2">
<p>â‘¡ êµ¬êµ¬ë‹¨ ë¬¸ì œ</p>
<p>ë¬¸ì œ: 7 Ã— 8 = ?</p>
<input name="q2" onblur="endQuestion('q2')" onfocus="startQuestion('q2')" type="number"/>
</div>
<div class="question" data-answer="1" data-id="q3">
<p>â‘¢ ë‹¨ì–´ ê¸°ì–µí•˜ê¸°</p>
<p>ë¬¸ì œ: ë‹¨ì–´ "sky"ì˜ ëœ»ì„ ê³ ë¥´ì„¸ìš”</p>
<label><input name="q3" onclick="startQuestion('q3'); endQuestion('q3')" type="radio" value="1"/> í•˜ëŠ˜</label><br/><label><input name="q3" onclick="startQuestion('q3'); endQuestion('q3')" type="radio" value="2"/> ë°”ë‹¤</label><br/><label><input name="q3" onclick="startQuestion('q3'); endQuestion('q3')" type="radio" value="3"/> ê¿ˆ</label><br/><label><input name="q3" onclick="startQuestion('q3'); endQuestion('q3')" type="radio" value="4"/> ë¼ë©´</label><br/>
</div>
<div class="question" data-answer="12" data-id="q4">
<p>â‘£ í‘œì—ì„œ ê°€ì¥ ì‘ì€ ê°’ ê³ ë¥´ê¸°</p>
<p>ë¬¸ì œ: ì•„ë˜ í‘œì—ì„œ ê°€ì¥ ì‘ì€ ê°’ì„ ì…ë ¥í•˜ì„¸ìš”.</p>
<table>
<tr><td>12</td><td>28</td><td>17</td><td>23</td></tr><tr><td>19</td><td>15</td><td>31</td><td>22</td></tr><tr><td>14</td><td>27</td><td>20</td><td>16</td></tr>
</table>
<input name="q4" onblur="endQuestion('q4')" onfocus="startQuestion('q4')" type="number"/>
</div>
<!-- í”¼ë¡œë„ -->
<div class="question">
<p>ğŸ˜µ ëˆˆì˜ í”¼ë¡œë„ í‰ê°€ (1~7ì ):</p>
<input id="fatigue" max="7" min="1" type="number"/>
</div>
<button onclick="submitQuiz()">ì œì¶œí•˜ê¸°</button>
</div>
<!-- ë¬¸ì œ ëœë¤í™” -->
<script>
    window.addEventListener("DOMContentLoaded", () => {
      const container = document.querySelector(".container");
      const allQuestions = Array.from(document.querySelectorAll(".question"));
      const quizQuestions = allQuestions.slice(0, -1);
      const fatigueQuestion = allQuestions[allQuestions.length - 1];

      for (let i = quizQuestions.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [quizQuestions[i], quizQuestions[j]] = [quizQuestions[j], quizQuestions[i]];
      }

      const submitButton = container.querySelector("button");
      quizQuestions.forEach(q => container.insertBefore(q, fatigueQuestion));
    });
  </script>
<!-- íƒ€ì´ë¨¸ ë° ì œì¶œ -->
<script>
    let startTime = Date.now();
    let timerInterval = setInterval(() => {
      const now = Date.now();
      const elapsed = ((now - startTime) / 1000).toFixed(2);
      document.getElementById("timer").textContent = `ì´ ê²½ê³¼ ì‹œê°„: ${elapsed}ì´ˆ`;
    }, 100);

    const questionTimings = {};

    function startQuestion(qid) {
      if (!questionTimings[qid]) questionTimings[qid] = {};
      questionTimings[qid].start = Date.now();
    }

    function endQuestion(qid) {
      if (!questionTimings[qid]) return;
      questionTimings[qid].end = Date.now();
      questionTimings[qid].duration = ((questionTimings[qid].end - questionTimings[qid].start) / 1000).toFixed(2);
    }

    function submitQuiz() {
      clearInterval(timerInterval);
      const totalTime = ((Date.now() - startTime) / 1000).toFixed(2);
      const questions = document.querySelectorAll('.question');
      let correct = 0;

      questions.forEach(q => {
        const correctAnswer = q.dataset.answer;
        const qid = q.dataset.id;
        if (!correctAnswer || !qid) return;

        let userAnswer = null;
        const radios = q.querySelectorAll('input[type=radio]');
        if (radios.length > 0) {
          radios.forEach(r => {
            if (r.checked) userAnswer = r.value;
          });
        } else {
          const input = q.querySelector('input[type=number]');
          if (input) userAnswer = input.value;
        }

        if (userAnswer == correctAnswer) correct++;
      });

      const fatigue = document.getElementById("fatigue").value;

      let resultText = `âœ… ê²°ê³¼ ìš”ì•½
- ì •ë‹µ ìˆ˜: ${correct} / 4
- ì´ ì‹œê°„: ${totalTime}ì´ˆ
- í”¼ë¡œë„: ${fatigue}ì 

ğŸ“Š ë¬¸ì œë³„ ì†Œìš” ì‹œê°„:
`;
      for (const [qid, data] of Object.entries(questionTimings)) {
        resultText += `- ${qid}: ${data.duration || "ë¯¸ê¸°ë¡"}ì´ˆ
`;
      }

      alert(resultText);
    }
  </script>
</body>
</html>
